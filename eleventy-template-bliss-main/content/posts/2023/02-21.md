---
title: Troisième semaine
description: Post description that will be visible in HTML meta description.
date: 2024-02-21
visible: false
tags:
  - JavaScript
  - CSS
  - APIs
disclaimer:
  text: Merci à Louis-Olivier Brassard (UdeM) pour son aide dans la préparation de cet atelier.
---

Après une révision rapide des principaux concepts présentés dans les leçons précédentes, la dernière session de l'atelier s'est concentrée sur la présentation du langage de programmation JavaScript. Il s'agit d'un langage de programmation fonctionnel spécifiquement conçu pour faciliter l'interaction des pages web. Cliquez <a href="/images/slides-export-02-21.pdf" download="slides">ICI</a> pour télécharger les diapositives de la séance.

Nous avons particulièrement observé :

- La notion de variable et les différences entre `var`, `const` et `let`

- La notion de méthode (qui fait référence aux fonctions déjà intégrées dans le langage JavaScript)

- La notion de fonction et la différence entre l'écriture d'une fonction et sa exécution 

- La notion de boucle. En voici un exemple :
    ```js
    console.log(`Comptons jusqu’à 3… ou 2?`);
    for (let i = 0; i < 3; i++) {
      console.log(i);
    }
    ```
- La syntaxe `if... else`. En voici un exemple : 

    ```js
    if (x < y) {
      reponse = prompt(`Trop petit!`);
      } else {
      reponse = prompt(`Trop grand!`);
     }
    ``` 

Pour faciliter une première appropriation du langage de programmation, nous avons créé en classe un simple jeu _devinette_.

La réalisation de ce jeu a nécessité 

1. Un fichier **index.html** avec ce contenu :

  ```html
  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Un jeu de devinette en JavaScript</title>

    <!-- référence à un fichier externe, qui chargera la fonction `jeu()` -->
    <script src="script.js"></script>

    <!-- Un peu de style minimal -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>

    <main>
      <h1>Un jeu de devinette en JavaScript</h1>
      <p>
        Dans ce jeu, vous devrez tenter de deviner un nombre choisi au hasard compris entre 1 et 100.
      </p>
    </main>

  </body>
  </html>
  ```
2. Un fichier **style.css** avec ce contenu :

  ```css
  html {
    font-family: sans-serif;
    margin: 0;
    background-color: midnightblue;
  }
  main {
    margin: 0 auto;
    padding: 2rem;
    max-width: 36rem;
    background-color: lightgreen;
    color: darkslategray;
    min-height: 16rem;
  }
  button {
    margin: 2rem auto;
    display: block;
    padding: .75em 1.25em;
    font-size: 1.125rem;
    border-radius: .3rem;
    text-align: center;
    border: 0;
    background-color: midnightblue;
    color: white;
    font-weight: bolder;
  }
  button:hover {
    background-color: mediumblue;
  }
  button:active {
    background-color: darkblue;
  }
  ```

3. Un fichier **script.js** avec ce contenu :

  ```js
  function jeu() {
    // ici, on définit un nombre aléatoire à deviner
    // la fonction `Math.random()` donne une valeur décimale entre 0 et 1,
    // qu’on multiplie pour mettre sur 100; avec `Math.ceil()` on arrondit
    // à l’entier supérieur pour se débarrasser des décimales
    let nombre = Math.ceil(Math.random() * 100);

    // la fonction `prompt()` est disponible dans les navigateurs web
    let reponse = prompt(`Cherchez un nombre entre 1 et 100:`);

    // on saisit la réponse pour en faire un `Number`, car c’est une chaîne de caractères
    reponse = Number(reponse);

    // la boucle `while`
    // tant que la condition n’est pas satisfaite, ce bloc de code
    // va continuer à s’exécuter. Attention aux boucles infinies!
    while (reponse !== nombre) {
      if (reponse < nombre) {
        reponse = prompt(`Trop petit! Essayez à nouveau :`);
      } else {
        reponse = prompt(`Trop grand! Essayez à nouveau :`);
      }
      // on ajuste la variable pour en faire un nombre
      reponse = Number(reponse);
    }

    // si on arrive ici, c’est que la partie est terminée, i.e. la `reponse` est égale au `nombre`
    alert(`Bien joué! La réponse était ${nombre}.`);
  }

  // lancer le jeu -- la fonction `jeu`
  jeu();
  ```

À la fin de l'exercice, une version plus avancée du même jeu a été présentée. Cette version évite la création de pop-ups gênants en exploitant la capacité de JavaScript à intervenir directement sur la structure du document HTML de référence (ce qu'on appelle le [DOM](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model)). Pour les personnes intéressées, le code de cette version plus avancée est disponible à ce [LIEN](https://gitlab.huma-num.fr/lbrassard/hnu6058-atelier-js/-/tree/main/6-jeu-avance?ref_type=heads).
<br>
Attention : pour l'évaluation de ce cours, il n'est pas nécessaire d'atteindre ce niveau de complexité.

Pour des raisons de temps, l'utilisation de la méthode `fetch()` pour l'intégration de données accessibles par API sur son propre site n'a pas été présentée. Pour les personnes intéressées par cet aspect, vous trouverez <a href="/images/zotero-fetch.zip" download="Document HTML pour récupérer les données d'un groupe Zotero via l'API Zotero.">ICI</a> une exemple de cette utilisation. Il s'agit d'une page HTML avec un script JavaScript à l'intérieur pour pouvoir récupérer et afficher sur votre site les données relatives à une bibliographie sur votre Zotero. Si vous souhaitez utiliser cette fonction, n'oubliez pas de saisir votre clé API générée sur Zotero dans le document au lieu de `taCleApiZotero` et de saisir l'identifiant de votre groupe Zotero au lieu de `tonIdGroupeZotero`.
<br>
Attention : pour l'évaluation de ce cours, il n'est pas nécessaire d'atteindre ce niveau de complexité.








